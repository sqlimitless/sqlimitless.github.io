---
layout: post
title: 정규화
subtitle: Mysql
# cover-img: /assets/img/path.jpg
# thumbnail-img: /assets/img/thumb.png
# thumbnail-img: /assets/img/DDD/DDD_Book_Thum.jpeg
# share-img: /assets/img/path.jpg
tags: [대용량 데이터 및 트레픽처리, Mysql]
---

## 중복되는 데이터는 반드시 정규화 해야할까?
---
* 무조건적인 기계적인 정규화보다는 정규화는 결국 읽기 비용이 늘고 쓰기 비용이 줄어드는 작업. 상황에 맞게 작업해야함.

## 고려해야할 것
---
- 얼마나 빠르게 데이터 최신성을 보장해야 하는지
- 히스토리성 데이터는 오히려 정규화를 하지 않아야 한다
	-  데이터가 많아지면 테이블 참조의 비용이 많아진다.
- 데이터 변경 주기와 조회 주기는 어떻게 되는지
	- 변경주기가 빈번하면 정규화가 유리하지만, 반대의 경우엔 비정규화가 유리하다.
- 테이블 탐색 깊이가 얼마나 깊은지
	- 너무 깊이 타고  들어가게 되면 많은 참조가 생기게 되어 조회시 비용이 많이 들어가게될것이고 참조 중간에 비정규화를 하게되면 가장 깊은 테이블의 데이터를 수정시 중간에 비정규화 진행한 테이블도 같이 수정하게 되어 비용이 많이 들어간다.

## 정규화시 데이터를 어떻게 가지고 올것인지
---
- 테이블 조인
	- 서로 다른 테이블의 결합도가 높아진다.
	- FK가 설정되어있는경우 데드락 이슈가 생기기 쉽다.
	- 높은 결합도로 인해 성능좋은 데이터 베이스나 캐싱등 최적화 기법을 사용하기 힘들어진다.
	- 차라리 읽기 쿼리를 한번 더 날리는게 좋을수도있다. 읽기 쿼리 한번 더 발생하는거 정도는 큰 부담이 아닐수 있다.